# **AWS EC2 Lab – Launching, Configuring, and Managing a Web Server** 
**Author:** Mokgadi Selepe  
**Date:** November 2025  

## Objective
Practice core Amazon EC2 skills: launching instances, configuring security groups, monitoring, resizing (instance type & EBS), user-data scripting, and termination protection.

## Task 1: Launch an EC2 Web Server Instance

**Specifications:**
- Name: `Web Server`
- AMI: Amazon Linux 2023 (64-bit x86)
- Instance type: `t3.micro` (2 vCPUs, 1 GiB RAM) – Free Tier eligible
- Key pair: Created new key pair (for potential SSH – later disabled)
- Network settings:
  - Default VPC
  - Auto-assign public IP: Enabled
- Security Group: Custom SG created
  - Initially allowed only SSH (port 22) – intentionally restrictive
  - Later modified (see Task 3)
- Storage: 8 GiB gp3 EBS volume (default)
- Termination Protection: Enabled
- User Data script (run on launch):

```bash
#!/bin/bash
yum update -y
yum install httpd -y
systemctl start httpd
systemctl enable httpd
echo "<h1>Hello From Your Web Server!</h1>" > /var/www/html/index.html
```

**Outcome:** Instance launched successfully and Apache web server auto-installed and started.

---

## Task 2: Monitor the Instance

- Navigated to EC2 → Instances → Selected instance → **Status Checks** tab  
  → Both 2/2 checks passed  
- **Monitoring** tab: Viewed CloudWatch metrics (CPU utilization, network in/out, etc.)
- Took **instance screenshot** via Actions → Monitor and troubleshoot → Get system log / screenshot  
  → Confirmed OS boot and Apache service running

---

## Task 3: Update Security Group & Access Web Server

**Problem:** Browsing to public IP showed "This site can’t be reached"  
**Root Cause:** Security group blocked inbound HTTP (port 80)

**Fix:**
- Added inbound rule:
  - Type: HTTP
  - Protocol: TCP
  - Port: 80
  - Source: 0.0.0.0/0 (Anywhere-IPv4)
- Refreshed browser → Successfully displayed **"Hello From Your Web Server!"**

**Key Learning:** Security groups act as a virtual firewall. Even if the web server is running, traffic must be explicitly allowed.

---

## Task 4: Resize Instance (Instance Type + EBS Volume)

### 4.1 Change Instance Type
- Stopped the instance
- Actions → Instance settings → Change instance type
- Upgraded from `t3.micro` → `t3.small` (2 vCPUs, 2 GiB RAM)
- Started instance → Confirmed successful boot and web server still accessible

### 4.2 Increase EBS Volume Size
- EC2 → Volumes → Modified root volume from 8 GiB → 10 GiB
- After modification completed, logged in via SSH and extended the filesystem:

```bash
# Check current partitions
lsblk

# Extend the partition (usually xvda1)
sudo growpart /dev/xvda 1

# Resize the XFS filesystem (default on Amazon Linux 2023)
sudo xfs_growfs -d /
```

**Result:** Disk space increased without data loss

**Key Learning:**  
- You can upgrade/downgrade instance types (when stopped)  
- EBS volumes can be resized on-the-fly, but the OS filesystem must be extended afterward

---

## Task 5: Test Termination Protection

- Attempted to terminate instance → Operation blocked with error  
  → "Instance has termination protection enabled"
- Disabled termination protection:
  - Instance settings → Disable termination protection
- Terminated instance successfully

**Key Learning:** Termination protection prevents accidental deletion – great for production!

---

## Summary of Key AWS Concepts Learned

| Concept                  | Learned From Task       | Key Takeaway |
|--------------------------|-------------------------|--------------|
| EC2 Instance Launch      | Task 1                  | AMI, instance type, key pairs, user data |
| Security Groups          | Task 1 & 3              | Act as stateful firewall – must allow port 80 for HTTP |
| User Data Scripts        | Task 1                  | Automate setup on first boot |
| Monitoring & Status      | Task 2                  | CloudWatch metrics + instance screenshots |
| Instance Type Changes   | Task 4                  | Must stop instance first |
| EBS Volume Resizing      | Task 4                  | Resize volume → extend partition → grow filesystem |
| Termination Protection   | Task 5                  | Safety net against accidental deletion |

---

**Final Status:** Successfully launched, configured, secured, scaled, monitored, and safely terminated an EC2 web server.

Perfect hands-on introduction to real-world EC2 operations!
```
Mokgadi: mokgadi9939@gmail.com